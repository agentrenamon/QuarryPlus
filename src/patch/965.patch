--- a/com/yogpc/ip/ItemArmorElectric.java
+++ b/com/yogpc/ip/ItemArmorElectric.java
@@ -23,15 +23,14 @@
 import net.minecraft.item.ItemArmor;
 import net.minecraft.item.ItemStack;
 import net.minecraft.nbt.NBTTagCompound;
-import net.minecraft.network.NetHandlerPlayServer;
 import net.minecraft.util.DamageSource;
 import net.minecraft.world.World;
 import net.minecraftforge.common.ISpecialArmor;
 import net.minecraftforge.common.EnumHelper;
 
 public class ItemArmorElectric extends ItemArmor implements ISpecialArmor, IElectricItem {
-	public ItemArmorElectric() {
-		super(EnumHelper.addArmorMaterial("ELECTRIC", 33, new int[] { 3, 8, 6, 3 }, 0), YogpstopLib.proxy.addNewArmourRendererPrefix("electric"), 1);
+	public ItemArmorElectric(int id) {
+		super(id, EnumHelper.addArmorMaterial("ELECTRIC", 33, new int[] { 3, 8, 6, 3 }, 0), YogpstopLib.proxy.addNewArmourRendererPrefix("electric"), 1);
 		this.setUnlocalizedName("electric_armor");
 		this.setCreativeTab(CreativeTabs.tabCombat);
 		this.setTextureName("yogpstop_qp:electric_armor");
@@ -40,8 +39,6 @@
 		this.setMaxStackSize(1);
 	}
 
-	private static final Field f = ReflectionHelper.getDeclaredField(NetHandlerPlayServer.class, "field_147365_f", "floatingTickCount");
-	
 	private static final double maxFallSpeedOnHover = 0.35;
 
 	private void useJetpack(EntityPlayer p, ItemStack jetpack, boolean hover) {
@@ -78,13 +75,7 @@
 				p.fallDistance = 0.0f;
 				p.distanceWalkedModified = 0.0f;
 				if (p instanceof EntityPlayerMP) {
-					try {
-						f.setInt(((EntityPlayerMP) p).playerNetServerHandler, 0);
-					} catch (IllegalArgumentException e) {
-						e.printStackTrace();
-					} catch (IllegalAccessException e) {
-						e.printStackTrace();
-					}
+					((EntityPlayerMP) p).playerNetServerHandler.ticksForFloatKick = 0;
 				}
 			}
 			p.inventoryContainer.detectAndSendChanges();
@@ -116,7 +107,7 @@
 	}
 
 	@Override
-	public void onArmorTick(World world, EntityPlayer player, ItemStack itemStack) {
+	public void onArmorTickUpdate(World world, EntityPlayer player, ItemStack itemStack) {
 		if (player.inventory.armorInventory[2] != itemStack) return;
 		this.useJetpack(player, itemStack, toggleHover(player, itemStack));
 	}
@@ -160,13 +151,13 @@
 	}
 
 	@Override
-	public Item getChargedItem(ItemStack itemStack) {
-		return this;
+	public int getChargedItemId(ItemStack itemStack) {
+		return this.itemID;
 	}
 
 	@Override
-	public Item getEmptyItem(ItemStack itemStack) {
-		return this;
+	public int getEmptyItemId(ItemStack itemStack) {
+		return this.itemID;
 	}
 
 	@Override
--- a/com/yogpc/mc_lib/APacketTile.java
+++ b/com/yogpc/mc_lib/APacketTile.java
@@ -29,9 +29,6 @@
 
 	@Override
 	public final Packet getDescriptionPacket() {
-		ByteBuf buf = Unpooled.buffer();
-		buf.writeByte(0);
-		new YogpstopPacket(this).writeData(buf);
-		return new FMLProxyPacket(buf, "YogpstopLib");
+		return PacketHandler.getPacket(new YogpstopPacket(this));
 	}
 }
--- a/com/yogpc/mc_lib/PacketHandler.java
+++ b/com/yogpc/mc_lib/PacketHandler.java
@@ -26,7 +26,6 @@
 import java.lang.annotation.RetentionPolicy;
 import java.lang.annotation.Target;
 import java.lang.reflect.Method;
-import java.util.EnumMap;
 import java.util.HashMap;
 import java.util.List;
 import java.util.Map;
@@ -35,19 +34,18 @@
 import net.minecraft.inventory.Container;
 import net.minecraft.nbt.CompressedStreamTools;
 import net.minecraft.nbt.NBTTagCompound;
+import net.minecraft.network.INetworkManager;
+import net.minecraft.network.packet.Packet250CustomPayload;
 import net.minecraft.tileentity.TileEntity;
 
 import com.google.common.io.ByteArrayDataInput;
 import com.google.common.io.ByteStreams;
 
-import cpw.mods.fml.common.network.FMLEmbeddedChannel;
-import cpw.mods.fml.common.network.FMLOutboundHandler;
-import cpw.mods.fml.common.network.FMLOutboundHandler.OutboundTarget;
-import cpw.mods.fml.common.network.NetworkRegistry;
-import cpw.mods.fml.relauncher.Side;
+import cpw.mods.fml.common.network.IPacketHandler;
+import cpw.mods.fml.common.network.PacketDispatcher;
+import cpw.mods.fml.common.network.Player;
 
-@Sharable
-public class PacketHandler extends SimpleChannelInboundHandler<YogpstopPacket> {
+public class PacketHandler implements IPacketHandler {
 	@Retention(RetentionPolicy.RUNTIME)
 	@Target(ElementType.METHOD)
 	public static @interface Handler {}
@@ -62,7 +60,6 @@
 		}
 	}
 
-	public static EnumMap<Side, FMLEmbeddedChannel> channels;
 	static final byte Tile = 0;
 	static final byte NBT = 1;
 	static final byte BTN = 2;
@@ -99,7 +96,9 @@
 	public static final byte remove_laser = 1;
 
 	@Override
-	protected void channelRead0(ChannelHandlerContext ctx, YogpstopPacket packet) throws Exception {
+	public void onPacketData(INetworkManager network, Packet250CustomPayload _packet, Player player) {
+		YogpstopPacket packet = new YogpstopPacket();
+		packet.readData(_packet.data, player);
 		if (packet.getChannel() == NBT) {
 			setNBTFromPacket(packet);
 		} else if (packet.getChannel() == BTN) {
@@ -126,27 +125,28 @@
 		}
 	}
 
+	public static Packet250CustomPayload getPacket(YogpstopPacket p) {
+		Packet250CustomPayload pkt = new Packet250CustomPayload();
+		pkt.channel = "YogpstopLib";
+		pkt.data = p.writeData();
+		pkt.length = pkt.data.length;
+		return pkt;
+	}
+
 	public static void sendPacketToServer(YogpstopPacket p) {
-		channels.get(Side.CLIENT).attr(FMLOutboundHandler.FML_MESSAGETARGET).set(OutboundTarget.TOSERVER);
-		channels.get(Side.CLIENT).writeOutbound(p);
+		PacketDispatcher.sendPacketToServer(getPacket(p));
 	}
 
 	public static void sendPacketToAround(YogpstopPacket p, int d, int x, int y, int z) {
-		channels.get(Side.SERVER).attr(FMLOutboundHandler.FML_MESSAGETARGET).set(OutboundTarget.ALLAROUNDPOINT);
-		channels.get(Side.SERVER).attr(FMLOutboundHandler.FML_MESSAGETARGETARGS).set(new NetworkRegistry.TargetPoint(d, x, y, z, 256));
-		channels.get(Side.SERVER).writeOutbound(p);
+		PacketDispatcher.sendPacketToAllAround(x, y, z, 256, d, getPacket(p));
 	}
 
 	public static void sendPacketToDimension(YogpstopPacket p, int d) {
-		channels.get(Side.SERVER).attr(FMLOutboundHandler.FML_MESSAGETARGET).set(OutboundTarget.DIMENSION);
-		channels.get(Side.SERVER).attr(FMLOutboundHandler.FML_MESSAGETARGETARGS).set(d);
-		channels.get(Side.SERVER).writeOutbound(p);
+		PacketDispatcher.sendPacketToAllInDimension(getPacket(p), d);
 	}
 
 	public static void sendPacketToPlayer(YogpstopPacket p, EntityPlayer e) {
-		channels.get(Side.SERVER).attr(FMLOutboundHandler.FML_MESSAGETARGET).set(FMLOutboundHandler.OutboundTarget.PLAYER);
-		channels.get(Side.SERVER).attr(FMLOutboundHandler.FML_MESSAGETARGETARGS).set(e);
-		channels.get(Side.SERVER).writeOutbound(p);
+		PacketDispatcher.sendPacketToPlayer(getPacket(p), (Player) e);
 	}
 
 	private static void setNBTFromPacket(YogpstopPacket p) {
--- a/com/yogpc/mc_lib/ProxyClient.java
+++ b/com/yogpc/mc_lib/ProxyClient.java
@@ -1,43 +1,63 @@
 package com.yogpc.mc_lib;
 
+import java.util.ArrayList;
+import java.util.EnumSet;
+import java.util.List;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiScreen;
 import net.minecraft.client.multiplayer.WorldClient;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.client.settings.KeyBinding;
 import net.minecraft.entity.Entity;
-import net.minecraft.entity.player.EntityPlayer;
-import net.minecraft.network.INetHandler;
-import net.minecraft.network.NetHandlerPlayServer;
 import net.minecraft.world.World;
-import cpw.mods.fml.client.registry.ClientRegistry;
 import cpw.mods.fml.client.registry.RenderingRegistry;
-import cpw.mods.fml.common.FMLCommonHandler;
-import net.minecraftforge.event.ForgeSubscribe;
-import cpw.mods.fml.common.gameevent.TickEvent;
+import cpw.mods.fml.common.registry.TickRegistry;
+import cpw.mods.fml.common.ITickHandler;
+import cpw.mods.fml.common.TickType;
 import cpw.mods.fml.relauncher.Side;
 import cpw.mods.fml.relauncher.SideOnly;
 
 @SideOnly(Side.CLIENT)
-public class ProxyClient extends ProxyCommon {
+public class ProxyClient extends ProxyCommon implements ITickHandler {
 	private int key = 0;
 
 	static {
+		List<KeyBinding> bs = new ArrayList<KeyBinding>();
 		for (Key k : Key.values()) {
 			if (k.name != null) {
-				k.binding = new KeyBinding(k.name, k.id, "YogpstopLib");
-				ClientRegistry.registerKeyBinding((KeyBinding) k.binding);
+				k.binding = new KeyBinding(k.name, k.id);
+				bs.add((KeyBinding) k.binding);
 			}
 		}
+		GameSettings set = Minecraft.getMinecraft().gameSettings;
+		KeyBinding[] add = bs.toArray(new KeyBinding[bs.size()]);
+		KeyBinding[] all = new KeyBinding[set.keyBindings.length + add.length];
+		System.arraycopy(set.keyBindings, 0, all, 0, set.keyBindings.length);
+		System.arraycopy(add, 0, all, set.keyBindings.length, add.length);
+		set.keyBindings = all;
+		set.loadOptions();
 	}
 
 	public ProxyClient() {
-		FMLCommonHandler.instance().bus().register(this);
+		TickRegistry.registerTickHandler(this, Side.CLIENT);
 	}
 
-	@ForgeSubscribe
-	public void keyUpdate(TickEvent.ClientTickEvent e) {
-		if (e.phase != TickEvent.Phase.START) return;
+	@Override
+	public String getLabel() {
+		return "YogpstopLib";
+	}
+
+	@Override
+	public EnumSet<TickType> ticks() {
+		return EnumSet.of(TickType.CLIENT);
+	}
+
+	@Override
+	public void tickEnd(EnumSet<TickType> type, Object... data) {}
+
+	@Override
+	public void tickStart(EnumSet<TickType> type, Object... data) {
 		int prev = this.key;
 		this.key = 0;
 		GuiScreen currentScreen = Minecraft.getMinecraft().currentScreen;
@@ -72,12 +92,6 @@
 	}
 
 	@Override
-	public EntityPlayer getPacketPlayer(INetHandler inh) {
-		if (inh instanceof NetHandlerPlayServer) return ((NetHandlerPlayServer) inh).playerEntity;
-		return Minecraft.getMinecraft().thePlayer;
-	}
-
-	@Override
 	public int addNewArmourRendererPrefix(String s) {
 		return RenderingRegistry.addNewArmourRendererPrefix(s);
 	}
--- a/com/yogpc/mc_lib/ProxyCommon.java
+++ b/com/yogpc/mc_lib/ProxyCommon.java
@@ -5,8 +5,6 @@
 
 import net.minecraft.entity.Entity;
 import net.minecraft.entity.player.EntityPlayer;
-import net.minecraft.network.INetHandler;
-import net.minecraft.network.NetHandlerPlayServer;
 import net.minecraft.world.World;
 
 public class ProxyCommon {
@@ -41,11 +39,6 @@
 		}
 	}
 
-	public EntityPlayer getPacketPlayer(INetHandler inh) {
-		if (inh instanceof NetHandlerPlayServer) return ((NetHandlerPlayServer) inh).playerEntity;
-		return null;
-	}
-
 	public int addNewArmourRendererPrefix(String s) {
 		return 0;
 	}
--- a/com/yogpc/mc_lib/YogpstopLib.java
+++ b/com/yogpc/mc_lib/YogpstopLib.java
@@ -5,9 +5,11 @@
 import cpw.mods.fml.common.Mod;
 import cpw.mods.fml.common.SidedProxy;
 import cpw.mods.fml.common.event.FMLInitializationEvent;
+import cpw.mods.fml.common.network.NetworkMod;
 import cpw.mods.fml.common.network.NetworkRegistry;
 
 @Mod(modid = "YogpstopLib", name = "Yogpstop Library", version = "@VERSION@", dependencies = "after:IC2")
+@NetworkMod(clientSideRequired = true, serverSideRequired = false, channels = { "YogpstopLib" }, packetHandler = PacketHandler.class)
 public class YogpstopLib {
 
 	@SidedProxy(clientSide = "com.yogpc.mc_lib.ProxyClient", serverSide = "com.yogpc.mc_lib.ProxyCommon")
@@ -15,7 +17,6 @@
 
 	@Mod.EventHandler
 	public void init(FMLInitializationEvent event) {
-		PacketHandler.channels = NetworkRegistry.instance().newChannel("YogpstopLib", new YogpstopPacketCodec(), new PacketHandler());
-		new ItemArmorElectric();// TODO IC2Plus
+		new ItemArmorElectric(21478);// TODO IC2Plus
 	}
 }
--- a/com/yogpc/mc_lib/YogpstopPacket.java
+++ b/com/yogpc/mc_lib/YogpstopPacket.java
@@ -4,7 +4,7 @@
 import java.io.DataOutputStream;
 import java.io.IOException;
 
-import cpw.mods.fml.common.network.NetworkRegistry;
+import cpw.mods.fml.common.network.Player;
 import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.nbt.CompressedStreamTools;
 import net.minecraft.nbt.NBTTagCompound;
@@ -85,17 +85,22 @@
 		return this.data;
 	}
 
-	public void readData(ByteBuf d, ChannelHandlerContext ctx) {
-		this.ep = YogpstopLib.proxy.getPacketPlayer(ctx.channel().attr(NetworkRegistry.NET_HANDLER).get());
-		this.header = new byte[d.readInt()];
-		d.readBytes(this.header);
-		this.data = new byte[d.readableBytes()];
-		d.readBytes(this.data);
+	public void readData(byte[] d, Player p) {
+		this.ep = (EntityPlayer) p;
+		this.header = new byte[d[0] << 24 | (d[1] & 0xFF) << 16 | (d[2] & 0xFF) << 8 | (d[3] & 0xFF)];
+		this.data = new byte[d.length - this.header.length - 4];
+		System.arraycopy(d, 4, this.header, 0, this.header.length);
+		System.arraycopy(d, 4 + this.header.length, this.data, 0, this.data.length);
 	}
 
-	public void writeData(ByteBuf d) {
-		d.writeInt(this.header.length);
-		d.writeBytes(this.header);
-		d.writeBytes(this.data);
+	public byte[] writeData() {
+		byte[] d = new byte[this.data.length + this.header.length + 4];
+		d[0] = (byte) (this.header.length >> 24);
+		d[1] = (byte) (this.header.length >> 16);
+		d[2] = (byte) (this.header.length >> 8);
+		d[3] = (byte) this.header.length;
+		System.arraycopy(this.header, 0, d, 4, this.header.length);
+		System.arraycopy(this.data, 0, d, 4 + this.header.length, this.data.length);
+		return d;
 	}
 }
--- a/com/yogpc/qp/APowerTile.java
+++ b/com/yogpc/qp/APowerTile.java
@@ -20,7 +20,7 @@
 		double tick_received = 0;
 		double remain_receive;
 		remain_receive = Math.min(this.recv_max - tick_received, this.stored_max - this.stored - tick_received);
-		tick_received += this.pp.useEnergy(0, remain_receive, true);
+		tick_received += this.pp.useEnergy(0, (float) remain_receive, true);
 		this.stored += tick_received;
 	}
 
@@ -43,7 +43,7 @@
 		this.stored = nbttc.getDouble("storedEnergy");
 		this.stored_max = nbttc.getDouble("MAX_stored");
 		this.recv_max = nbttc.getDouble("MAX_receive");
-		this.pp.configure(0, this.recv_max, 0, this.stored_max);
+		this.pp.configure(0, (float) this.recv_max, 0, (float) this.stored_max);
 	}
 
 	@Override
@@ -79,6 +79,6 @@
 	public final void configure(double max, double maxstored) {
 		this.recv_max = max;
 		this.stored_max = maxstored;
-		this.pp.configure(0, this.recv_max, 0, this.stored_max);
+		this.pp.configure(0, (float) this.recv_max, 0, (float) this.stored_max);
 	}
 }
--- a/com/yogpc/qp/BlockBreaker.java
+++ b/com/yogpc/qp/BlockBreaker.java
@@ -35,9 +35,7 @@
 import net.minecraft.item.ItemStack;
 import net.minecraft.tileentity.TileEntity;
 import net.minecraft.util.Icon;
-import net.minecraft.world.IBlockAccess;
 import net.minecraft.world.World;
-import net.minecraft.world.WorldServer;
 import net.minecraftforge.common.FakePlayerFactory;
 import net.minecraftforge.common.ForgeDirection;
 
@@ -49,8 +47,8 @@
 	@SideOnly(Side.CLIENT)
 	protected Icon vectrial;
 
-	protected BlockBreaker() {
-		super(Material.rock);
+	protected BlockBreaker(int id) {
+		super(id, Material.rock);
 		this.setCreativeTab(QuarryPlus.ct);
 		this.setHardness(3.5F);
 		this.setStepSound(soundStoneFootstep);
@@ -106,9 +104,9 @@
 		ForgeDirection fd = ForgeDirection.getOrientation(w.getBlockMetadata(x, y, z) & 7);
 		int tx = x + fd.offsetX, ty = y + fd.offsetY, tz = z + fd.offsetZ, meta = w.getBlockMetadata(tx, ty, tz);
 		if (ty < 1) return;
-		Block b = w.getBlock(tx, ty, tz);
+		Block b = Block.blocksList[w.getBlockId(tx, ty, tz)];
 		if (b == null || b.isAirBlock(w, x, y, z)) return;
-		final EntityPlayer player = FakePlayerFactory.getMinecraft((WorldServer) w);
+		final EntityPlayer player = FakePlayerFactory.getMinecraft(w);
 		b.onBlockHarvested(w, tx, ty, tz, meta, player);
 		if (b.removeBlockByPlayer(w, player, tx, ty, tz)) b.onBlockDestroyedByPlayer(w, tx, ty, tz, meta);
 		else return;
@@ -150,25 +148,25 @@
 
 	static void setDispenserDefaultDirection(World w, int x, int y, int z) {
 		if (!w.isRemote) {
-			Block b1 = w.getBlock(x, y, z - 1);
-			Block b2 = w.getBlock(x, y, z + 1);
-			Block b3 = w.getBlock(x - 1, y, z);
-			Block b4 = w.getBlock(x + 1, y, z);
+			int b1 = w.getBlockId(x, y, z - 1);
+			int b2 = w.getBlockId(x, y, z + 1);
+			int b3 = w.getBlockId(x - 1, y, z);
+			int b4 = w.getBlockId(x + 1, y, z);
 			byte b0 = 3;
 
-			if (b1.func_149730_j() && !b2.func_149730_j()) {
+			if (Block.opaqueCubeLookup[b1] && !Block.opaqueCubeLookup[b2]) {
 				b0 = 3;
 			}
 
-			if (b2.func_149730_j() && !b1.func_149730_j()) {
+			if (Block.opaqueCubeLookup[b2] && !Block.opaqueCubeLookup[b1]) {
 				b0 = 2;
 			}
 
-			if (b3.func_149730_j() && !b4.func_149730_j()) {
+			if (Block.opaqueCubeLookup[b3] && !Block.opaqueCubeLookup[b4]) {
 				b0 = 5;
 			}
 
-			if (b4.func_149730_j() && !b3.func_149730_j()) {
+			if (Block.opaqueCubeLookup[b4] && !Block.opaqueCubeLookup[b3]) {
 				b0 = 4;
 			}
 			w.setBlockMetadataWithNotify(x, y, z, b0, 2);
@@ -185,7 +183,7 @@
 		ItemStack is;
 		for (int i = 0; i < count; i++) {
 			int id1 = idDropped(meta, world.rand, 0);
-			if (id1 != null) {
+			if (id1 != 0) {
 				is = new ItemStack(id1, 1, damageDropped(meta));
 				EnchantmentHelper.enchantmentToIS(tile, is);
 				this.drop.add(is);
--- a/com/yogpc/qp/BlockFrame.java
+++ b/com/yogpc/qp/BlockFrame.java
@@ -18,8 +18,8 @@
 public class BlockFrame extends Block {
 	private final boolean[] sides = new boolean[6];
 
-	public BlockFrame() {
-		super(Material.glass);
+	public BlockFrame(int id) {
+		super(id, Material.glass);
 		setSides(true, true, true, true, true, true);
 		setHardness(0.5F);
 		setTickRandomly(true);
@@ -62,7 +62,7 @@
 
 	@Override
 	public int idDropped(int i, Random random, int j) {
-		return null;
+		return 0;
 	}
 
 	@Override
@@ -79,24 +79,24 @@
 	@Override
 	public AxisAlignedBB getCollisionBoundingBoxFromPool(World world, int i, int j, int k) {
 		float xMin = 0.25F, xMax = 0.75F, yMin = 0.25F, yMax = 0.75F, zMin = 0.25F, zMax = 0.75F;
-		if (world.getBlock(i - 1, j, k) == this) xMin = 0;
-		if (world.getBlock(i + 1, j, k) == this) xMax = 1;
-		if (world.getBlock(i, j - 1, k) == this) yMin = 0;
-		if (world.getBlock(i, j + 1, k) == this) yMax = 1;
-		if (world.getBlock(i, j, k - 1) == this) zMin = 0;
-		if (world.getBlock(i, j, k + 1) == this) zMax = 1;
+		if (world.getBlockId(i - 1, j, k) == this.blockID) xMin = 0;
+		if (world.getBlockId(i + 1, j, k) == this.blockID) xMax = 1;
+		if (world.getBlockId(i, j - 1, k) == this.blockID) yMin = 0;
+		if (world.getBlockId(i, j + 1, k) == this.blockID) yMax = 1;
+		if (world.getBlockId(i, j, k - 1) == this.blockID) zMin = 0;
+		if (world.getBlockId(i, j, k + 1) == this.blockID) zMax = 1;
 		return AxisAlignedBB.getBoundingBox(i + xMin, j + yMin, k + zMin, i + xMax, j + yMax, k + zMax);
 	}
 
 	@Override
 	public MovingObjectPosition collisionRayTrace(World world, int i, int j, int k, Vec3 vec3d, Vec3 vec3d1) {
 		float xMin = 0.25F, xMax = 0.75F, yMin = 0.25F, yMax = 0.75F, zMin = 0.25F, zMax = 0.75F;
-		if (world.getBlock(i - 1, j, k) == this) xMin = 0;
-		if (world.getBlock(i + 1, j, k) == this) xMax = 1;
-		if (world.getBlock(i, j - 1, k) == this) yMin = 0;
-		if (world.getBlock(i, j + 1, k) == this) yMax = 1;
-		if (world.getBlock(i, j, k - 1) == this) zMin = 0;
-		if (world.getBlock(i, j, k + 1) == this) zMax = 1;
+		if (world.getBlockId(i - 1, j, k) == this.blockID) xMin = 0;
+		if (world.getBlockId(i + 1, j, k) == this.blockID) xMax = 1;
+		if (world.getBlockId(i, j - 1, k) == this.blockID) yMin = 0;
+		if (world.getBlockId(i, j + 1, k) == this.blockID) yMax = 1;
+		if (world.getBlockId(i, j, k - 1) == this.blockID) zMin = 0;
+		if (world.getBlockId(i, j, k + 1) == this.blockID) zMax = 1;
 		setBlockBounds(xMin, yMin, zMin, xMax, yMax, zMax);
 		MovingObjectPosition r = super.collisionRayTrace(world, i, j, k, vec3d, vec3d1);
 		setBlockBounds(0, 0, 0, 1, 1, 1);
@@ -108,32 +108,32 @@
 		setBlockBounds(0.25F, 0.25F, 0.25F, 0.75F, 0.75F, 0.75F);
 		super.addCollisionBoxesToList(world, i, j, k, axisalignedbb, arraylist, par7Entity);
 
-		if (world.getBlock(i - 1, j, k) == this) {
+		if (world.getBlockId(i - 1, j, k) == this.blockID) {
 			setBlockBounds(0, 0.25F, 0.25F, 0.75F, 0.75F, 0.75F);
 			super.addCollisionBoxesToList(world, i, j, k, axisalignedbb, arraylist, par7Entity);
 		}
 
-		if (world.getBlock(i + 1, j, k) == this) {
+		if (world.getBlockId(i + 1, j, k) == this.blockID) {
 			setBlockBounds(0.25F, 0.25F, 0.25F, 1, 0.75F, 0.75F);
 			super.addCollisionBoxesToList(world, i, j, k, axisalignedbb, arraylist, par7Entity);
 		}
 
-		if (world.getBlock(i, j - 1, k) == this) {
+		if (world.getBlockId(i, j - 1, k) == this.blockID) {
 			setBlockBounds(0.25F, 0, 0.25F, 0.75F, 0.75F, 0.75F);
 			super.addCollisionBoxesToList(world, i, j, k, axisalignedbb, arraylist, par7Entity);
 		}
 
-		if (world.getBlock(i, j + 1, k) == this) {
+		if (world.getBlockId(i, j + 1, k) == this.blockID) {
 			setBlockBounds(0.25F, 0.25F, 0.25F, 0.75F, 1, 0.75F);
 			super.addCollisionBoxesToList(world, i, j, k, axisalignedbb, arraylist, par7Entity);
 		}
 
-		if (world.getBlock(i, j, k - 1) == this) {
+		if (world.getBlockId(i, j, k - 1) == this.blockID) {
 			setBlockBounds(0.25F, 0.25F, 1, 0.75F, 0.75F, 0.75F);
 			super.addCollisionBoxesToList(world, i, j, k, axisalignedbb, arraylist, par7Entity);
 		}
 
-		if (world.getBlock(i, j, k + 1) == this) {
+		if (world.getBlockId(i, j, k + 1) == this.blockID) {
 			setBlockBounds(0.25F, 0.25F, 0.25F, 0.75F, 0.75F, 1);
 			super.addCollisionBoxesToList(world, i, j, k, axisalignedbb, arraylist, par7Entity);
 		}
--- a/com/yogpc/qp/BlockInfMJSrc.java
+++ b/com/yogpc/qp/BlockInfMJSrc.java
@@ -25,8 +25,8 @@
 
 public class BlockInfMJSrc extends BlockContainer {
 
-	public BlockInfMJSrc() {
-		super(Material.iron);
+	public BlockInfMJSrc(int id) {
+		super(id, Material.iron);
 		setHardness(1.5F);
 		setResistance(10F);
 		setStepSound(soundStoneFootstep);
--- a/com/yogpc/qp/BlockLaser.java
+++ b/com/yogpc/qp/BlockLaser.java
@@ -21,7 +21,6 @@
 
 import cpw.mods.fml.relauncher.Side;
 import cpw.mods.fml.relauncher.SideOnly;
-import net.minecraft.block.Block;
 import net.minecraft.block.BlockContainer;
 import net.minecraft.block.material.Material;
 import net.minecraft.client.renderer.texture.IconRegister;
@@ -39,8 +38,8 @@
 	@SideOnly(Side.CLIENT)
 	private Icon textureTop, textureBottom;
 
-	public BlockLaser() {
-		super(Material.iron);
+	public BlockLaser(int id) {
+		super(id, Material.iron);
 		setHardness(10F);
 		setCreativeTab(QuarryPlus.ct);
 		this.setUnlocalizedName("LaserPlus");
@@ -104,7 +103,7 @@
 		ItemStack is;
 		for (int i = 0; i < count; i++) {
 			int it = idDropped(meta, world.rand, 0);
-			if (it != null) {
+			if (it != 0) {
 				is = new ItemStack(it, 1, damageDropped(meta));
 				EnchantmentHelper.enchantmentToIS(tile, is);
 				this.drop.add(is);
--- a/com/yogpc/qp/BlockMarker.java
+++ b/com/yogpc/qp/BlockMarker.java
@@ -19,7 +19,6 @@
 
 import cpw.mods.fml.relauncher.Side;
 import cpw.mods.fml.relauncher.SideOnly;
-import net.minecraft.block.Block;
 import net.minecraft.block.BlockContainer;
 import net.minecraft.block.material.Material;
 import net.minecraft.client.renderer.texture.IconRegister;
@@ -34,8 +33,8 @@
 
 public class BlockMarker extends BlockContainer {
 
-	public BlockMarker() {
-		super(Material.circuits);
+	public BlockMarker(int id) {
+		super(id, Material.circuits);
 		setLightValue(0.5F);
 		setCreativeTab(QuarryPlus.ct);
 		setUnlocalizedName("MarkerPlus");
--- a/com/yogpc/qp/BlockMiningWell.java
+++ b/com/yogpc/qp/BlockMiningWell.java
@@ -21,7 +21,6 @@
 
 import cpw.mods.fml.relauncher.Side;
 import cpw.mods.fml.relauncher.SideOnly;
-import net.minecraft.block.Block;
 import net.minecraft.block.BlockContainer;
 import net.minecraft.block.material.Material;
 import net.minecraft.client.renderer.texture.IconRegister;
@@ -38,8 +37,8 @@
 public class BlockMiningWell extends BlockContainer {
 	Icon textureFront, textureBack, textureTop, texW;
 
-	public BlockMiningWell() {
-		super(Material.ground);
+	public BlockMiningWell(int id) {
+		super(id, Material.ground);
 		setHardness(1.5F);
 		setResistance(10F);
 		setCreativeTab(QuarryPlus.ct);
@@ -109,7 +108,7 @@
 		if (world.isRemote || tile == null) return;
 		int count = quantityDropped(meta, 0, world.rand);
 		int it = idDropped(meta, world.rand, 0);
-		if (it != null) {
+		if (it != 0) {
 			for (int i = 0; i < count; i++) {
 				ItemStack is = new ItemStack(it, 1, damageDropped(meta));
 				EnchantmentHelper.enchantmentToIS(tile, is);
--- a/com/yogpc/qp/BlockMover.java
+++ b/com/yogpc/qp/BlockMover.java
@@ -29,8 +29,8 @@
 public class BlockMover extends Block {
 	Icon textureTop, textureBottom;
 
-	public BlockMover() {
-		super(Material.iron);
+	public BlockMover(int id) {
+		super(id, Material.iron);
 		setHardness(1.2F);
 		this.setCreativeTab(QuarryPlus.ct);
 		setUnlocalizedName("EnchantMover");
--- a/com/yogpc/qp/BlockPlacer.java
+++ b/com/yogpc/qp/BlockPlacer.java
@@ -34,9 +34,7 @@
 import net.minecraft.nbt.NBTTagCompound;
 import net.minecraft.tileentity.TileEntity;
 import net.minecraft.util.Icon;
-import net.minecraft.world.IBlockAccess;
 import net.minecraft.world.World;
-import net.minecraft.world.WorldServer;
 import net.minecraftforge.common.FakePlayerFactory;
 import net.minecraftforge.common.ForgeDirection;
 
@@ -49,8 +47,8 @@
 	@SideOnly(Side.CLIENT)
 	protected Icon vectrial;
 
-	protected BlockPlacer() {
-		super(Material.rock);
+	protected BlockPlacer(int id) {
+		super(id, Material.rock);
 		this.setCreativeTab(QuarryPlus.ct);
 		this.setHardness(3.5F);
 		this.setStepSound(soundStoneFootstep);
@@ -93,7 +91,7 @@
 		boolean flag1 = (i1 & 8) != 0;
 
 		if (flag && !flag1) {
-			par1World.scheduleBlockUpdate(par2, par3, par4, this, 0);
+			par1World.scheduleBlockUpdate(par2, par3, par4, this.blockID, 0);
 			par1World.setBlockMetadataWithNotify(par2, par3, par4, i1 | 8, 4);
 		} else if (!flag && flag1) {
 			par1World.setBlockMetadataWithNotify(par2, par3, par4, i1 & -9, 4);
@@ -130,7 +128,7 @@
 			ty = y + fd2.offsetY;
 			tz = z + fd2.offsetZ;
 
-			final EntityPlayer player = FakePlayerFactory.getMinecraft((WorldServer) world);
+			final EntityPlayer player = FakePlayerFactory.getMinecraft(world);
 			ItemStack is = null;
 			int i = 0;
 			for (; i < tile.getSizeInventory(); i++) {
@@ -144,7 +142,7 @@
 					if (is.getItem().onItemUseFirst(is, player, world, tx + fd5.offsetX, ty + fd5.offsetY, tz + fd5.offsetZ, sd6, 0.5F, 0.5F, 0.5F)) break;
 					if (is.getItem().onItemUseFirst(is, player, world, tx + fd6.offsetX, ty + fd6.offsetY, tz + fd6.offsetZ, sd5, 0.5F, 0.5F, 0.5F)) break;
 				}
-				Block k = world.getBlock(tx, ty, tz);
+				Block k = Block.blocksList[world.getBlockId(tx, ty, tz)];
 				if (k != null && k.onBlockActivated(world, tx, ty, tz, player, sd1, 0.5F, 0.5F, 0.5F)) break;
 				if (is != null) {
 					if (is.tryPlaceItemIntoWorld(player, world, tx, ty, tz, sd1, 0.5F, 0.5F, 0.5F)) break;
--- a/com/yogpc/qp/BlockPlainPipe.java
+++ b/com/yogpc/qp/BlockPlainPipe.java
@@ -7,8 +7,8 @@
 import net.minecraft.item.Item;
 
 public class BlockPlainPipe extends Block {
-	public BlockPlainPipe() {
-		super(Material.glass);
+	public BlockPlainPipe(int id) {
+		super(id, Material.glass);
 		this.minX = 0.25;
 		this.minY = 0.0;
 		this.minZ = 0.25;
@@ -30,6 +30,6 @@
 
 	@Override
 	public int idDropped(int i, Random random, int fortune) {
-		return null;
+		return 0;
 	}
 }
--- a/com/yogpc/qp/BlockPump.java
+++ b/com/yogpc/qp/BlockPump.java
@@ -21,7 +21,6 @@
 
 import cpw.mods.fml.relauncher.Side;
 import cpw.mods.fml.relauncher.SideOnly;
-import net.minecraft.block.Block;
 import net.minecraft.block.BlockContainer;
 import net.minecraft.block.material.Material;
 import net.minecraft.client.renderer.texture.IconRegister;
@@ -38,8 +37,8 @@
 
 	private Icon textureTop, textureBottom, textureSide, texW, texC;
 
-	public BlockPump() {
-		super(Material.iron);
+	public BlockPump(int id) {
+		super(id, Material.iron);
 		setHardness(5F);
 		setCreativeTab(QuarryPlus.ct);
 		setUnlocalizedName("PumpPlus");
@@ -93,7 +92,7 @@
 		if (world.isRemote || tile == null) return;
 		int count = quantityDropped(meta, 0, world.rand);
 		int it = idDropped(meta, world.rand, 0);
-		if (it != null) {
+		if (it != 0) {
 			for (int i = 0; i < count; i++) {
 				ItemStack is = new ItemStack(it, 1, damageDropped(meta));
 				EnchantmentHelper.enchantmentToIS(tile, is);
--- a/com/yogpc/qp/BlockQuarry.java
+++ b/com/yogpc/qp/BlockQuarry.java
@@ -21,7 +21,6 @@
 
 import cpw.mods.fml.relauncher.Side;
 import cpw.mods.fml.relauncher.SideOnly;
-import net.minecraft.block.Block;
 import net.minecraft.block.BlockContainer;
 import net.minecraft.block.material.Material;
 import net.minecraft.client.renderer.texture.IconRegister;
@@ -38,8 +37,8 @@
 public class BlockQuarry extends BlockContainer {
 	Icon textureTop, textureFront, texBB, texNNB, texMF;
 
-	public BlockQuarry() {
-		super(Material.iron);
+	public BlockQuarry(int id) {
+		super(id, Material.iron);
 		setHardness(1.5F);
 		setResistance(10F);
 		setStepSound(soundStoneFootstep);
@@ -56,7 +55,7 @@
 		if (world.isRemote || tile == null) return;
 		int count = quantityDropped(meta, 0, world.rand);
 		int it = idDropped(meta, world.rand, 0);
-		if (it != null) {
+		if (it != 0) {
 			for (int i = 0; i < count; i++) {
 				ItemStack is = new ItemStack(it, 1, damageDropped(meta));
 				EnchantmentHelper.enchantmentToIS(tile, is);
--- a/com/yogpc/qp/BlockRefinery.java
+++ b/com/yogpc/qp/BlockRefinery.java
@@ -19,7 +19,6 @@
 
 import java.util.ArrayList;
 
-import net.minecraft.block.Block;
 import net.minecraft.block.BlockContainer;
 import net.minecraft.block.material.Material;
 import net.minecraft.entity.EntityLivingBase;
@@ -36,8 +35,8 @@
 
 public class BlockRefinery extends BlockContainer {
 
-	public BlockRefinery() {
-		super(Material.iron);
+	public BlockRefinery(int id) {
+		super(id, Material.iron);
 		setHardness(5F);
 		setCreativeTab(QuarryPlus.ct);
 		setUnlocalizedName("RefineryPlus");
@@ -58,7 +57,7 @@
 		if (world.isRemote || tile == null) return;
 		int count = quantityDropped(meta, 0, world.rand);
 		int it = idDropped(meta, world.rand, 0);
-		if (it != null) {
+		if (it != 0) {
 			for (int i = 0; i < count; i++) {
 				ItemStack is = new ItemStack(it, 1, damageDropped(meta));
 				EnchantmentHelper.enchantmentToIS(tile, is);
@@ -83,7 +82,7 @@
 	}
 
 	private static void consumeItem(EntityPlayer ep, ItemStack stack) {
-		ItemStack container = stack.getItem().getContainerItem();
+		ItemStack container = stack.getItem().hasContainerItem() ? new ItemStack(stack.getItem().getContainerItem()) : null;
 		stack.stackSize--;
 		if (stack.stackSize > 0) ep.inventory.setInventorySlotContents(ep.inventory.currentItem, stack);
 		else ep.inventory.setInventorySlotContents(ep.inventory.currentItem, null);
--- a/com/yogpc/qp/ChunkLoadingHandler.java
+++ b/com/yogpc/qp/ChunkLoadingHandler.java
@@ -19,7 +19,6 @@
 
 import java.util.List;
 
-import net.minecraft.block.Block;
 import net.minecraft.tileentity.TileEntity;
 import net.minecraft.world.World;
 import net.minecraftforge.common.ForgeChunkManager;
@@ -48,8 +47,8 @@
 			int quarryY = ticket.getModData().getInteger("quarryY");
 			int quarryZ = ticket.getModData().getInteger("quarryZ");
 
-			Block b = world.getBlock(quarryX, quarryY, quarryZ);
-			if (b == QuarryPlus.blockQuarry || b == QuarryPlus.blockMarker) {
+			int b = world.getBlockId(quarryX, quarryY, quarryZ);
+			if (b == QuarryPlus.blockQuarry.blockID || b == QuarryPlus.blockMarker.blockID) {
 				validTickets.add(ticket);
 			}
 		}
--- a/com/yogpc/qp/ContainerMover.java
+++ b/com/yogpc/qp/ContainerMover.java
@@ -81,7 +81,7 @@
 
 	@Override
 	public boolean canInteractWith(EntityPlayer var1) {
-		return this.worldObj.getBlock(this.posX, this.posY, this.posZ) != QuarryPlus.blockMover ? false : var1.getDistanceSq(this.posX + 0.5D,
+		return this.worldObj.getBlockId(this.posX, this.posY, this.posZ) != QuarryPlus.blockMover.blockID ? false : var1.getDistanceSq(this.posX + 0.5D,
 				this.posY + 0.5D, this.posZ + 0.5D) <= 64.0D;
 	}
 
@@ -115,7 +115,7 @@
 						{
 							NBTTagList nlist = new NBTTagList();
 							for (int j = 0; j < list.tagCount(); j++) {
-								if (((NBTTagCompound)list.tagAt(j)).getShort("id") != eid) nlist.appendTag(((NBTTagCompound)list.tagAt(j)));
+								if (((NBTTagCompound)list.tagAt(j)).getShort("id") != eid) nlist.appendTag(list.tagAt(j));
 							}
 							list = nlist;
 						}
--- a/com/yogpc/qp/CreativeTabQuarryPlus.java
+++ b/com/yogpc/qp/CreativeTabQuarryPlus.java
@@ -11,7 +11,7 @@
 
 	@Override
 	public Item getTabIconItem() {
-		return Item.getItemFromBlock(QuarryPlus.blockQuarry);
+		return Item.itemsList[QuarryPlus.blockQuarry.blockID];
 	}
 
 }
--- a/com/yogpc/qp/EnchantmentHelper.java
+++ b/com/yogpc/qp/EnchantmentHelper.java
@@ -22,6 +22,7 @@
 
 import net.minecraft.enchantment.Enchantment;
 import net.minecraft.item.ItemStack;
+import net.minecraft.nbt.NBTTagCompound;
 import net.minecraft.nbt.NBTTagList;
 import net.minecraft.util.StatCollector;
 
--- a/com/yogpc/qp/ItemBlockBreaker.java
+++ b/com/yogpc/qp/ItemBlockBreaker.java
@@ -17,13 +17,12 @@
 
 package com.yogpc.qp;
 
-import net.minecraft.block.Block;
 import net.minecraft.item.ItemBlock;
 import net.minecraft.item.ItemStack;
 
 public class ItemBlockBreaker extends ItemBlock implements IEnchantableItem {
 
-	public ItemBlockBreaker(Block b) {
+	public ItemBlockBreaker(int b) {
 		super(b);
 	}
 
--- a/com/yogpc/qp/ItemBlockPump.java
+++ b/com/yogpc/qp/ItemBlockPump.java
@@ -17,13 +17,12 @@
 
 package com.yogpc.qp;
 
-import net.minecraft.block.Block;
 import net.minecraft.item.ItemBlock;
 import net.minecraft.item.ItemStack;
 
 public class ItemBlockPump extends ItemBlock implements IEnchantableItem {
 
-	public ItemBlockPump(Block b) {
+	public ItemBlockPump(int b) {
 		super(b);
 	}
 
--- a/com/yogpc/qp/ItemBlockQuarry.java
+++ b/com/yogpc/qp/ItemBlockQuarry.java
@@ -17,13 +17,12 @@
 
 package com.yogpc.qp;
 
-import net.minecraft.block.Block;
 import net.minecraft.item.ItemBlock;
 import net.minecraft.item.ItemStack;
 
 public class ItemBlockQuarry extends ItemBlock implements IEnchantableItem {
 
-	public ItemBlockQuarry(Block b) {
+	public ItemBlockQuarry(int b) {
 		super(b);
 	}
 
--- a/com/yogpc/qp/ItemBlockRefinery.java
+++ b/com/yogpc/qp/ItemBlockRefinery.java
@@ -17,13 +17,12 @@
 
 package com.yogpc.qp;
 
-import net.minecraft.block.Block;
 import net.minecraft.item.ItemBlock;
 import net.minecraft.item.ItemStack;
 
 public class ItemBlockRefinery extends ItemBlock implements IEnchantableItem {
 
-	public ItemBlockRefinery(Block b) {
+	public ItemBlockRefinery(int b) {
 		super(b);
 	}
 
--- a/com/yogpc/qp/ItemTool.java
+++ b/com/yogpc/qp/ItemTool.java
@@ -22,7 +22,6 @@
 import com.yogpc.mc_lib.PacketHandler;
 import com.yogpc.qp.QuarryPlus.BlockData;
 
-import cpw.mods.fml.common.registry.GameData;
 import cpw.mods.fml.relauncher.Side;
 import cpw.mods.fml.relauncher.SideOnly;
 import net.minecraft.block.Block;
@@ -40,8 +39,8 @@
 public class ItemTool extends Item implements IEnchantableItem {
 	Icon ile, ils;
 
-	public ItemTool() {
-		super();
+	public ItemTool(int id) {
+		super(id);
 		setMaxStackSize(1);
 		setHasSubtypes(true);
 		this.setMaxDamage(0);
@@ -76,7 +75,7 @@
 				if (id == 35) f = true;
 			}
 			NBTTagCompound c = is.getTagCompound();
-			Block b = w.getBlock(x, y, z);
+			Block b = Block.blocksList[w.getBlockId(x, y, z)];
 			BlockData bd = null;
 			if (c != null && c.hasKey("Bname")) {
 				bd = new BlockData(c.getString("Bname"), c.getInteger("Bmeta"));
@@ -100,7 +99,7 @@
 					c = new NBTTagCompound();
 					is.setTagCompound(c);
 				}
-				String name = GameData.getBlockRegistry().getNameForObject(b);
+				String name = Integer.toString(b.blockID);
 				int meta = w.getBlockMetadata(x, y, z);
 				if (c.hasKey("Bname") && name.equals(c.getString("Bname")) && meta == c.getInteger("Bmeta")) {
 					c.setInteger("Bmeta", OreDictionary.WILDCARD_VALUE);
--- a/com/yogpc/qp/QuarryPlus.java
+++ b/com/yogpc/qp/QuarryPlus.java
@@ -28,13 +28,10 @@
 import buildcraft.BuildCraftFactory;
 import buildcraft.BuildCraftSilicon;
 import buildcraft.BuildCraftTransport;
-import buildcraft.api.recipes.BuildcraftRecipes;
-import buildcraft.api.transport.PipeWire;
+import buildcraft.api.recipes.AssemblyRecipe;
 import net.minecraft.block.Block;
 import net.minecraft.client.renderer.texture.TextureMap;
 import net.minecraft.creativetab.CreativeTabs;
-import net.minecraft.block.Block;
-import net.minecraft.item.Item;
 import net.minecraft.item.Item;
 import net.minecraft.item.ItemStack;
 import net.minecraft.util.Icon;
@@ -51,7 +48,6 @@
 import cpw.mods.fml.common.event.FMLInitializationEvent;
 import cpw.mods.fml.common.event.FMLPreInitializationEvent;
 import net.minecraftforge.event.ForgeSubscribe;
-import cpw.mods.fml.common.registry.GameData;
 import cpw.mods.fml.common.registry.GameRegistry;
 import cpw.mods.fml.common.registry.LanguageRegistry;
 import cpw.mods.fml.common.network.NetworkRegistry;
@@ -116,8 +112,22 @@
 	@Mod.EventHandler
 	public void preInit(FMLPreInitializationEvent event) {
 		Configuration cfg = new Configuration(event.getSuggestedConfigurationFile());
+		int[] id = new int[13];
 		try {
 			cfg.load();
+			id[0] = cfg.getBlock("Quarry", 1970).getInt();
+			id[1] = cfg.getBlock("Marker", 1971).getInt();
+			id[2] = cfg.getBlock("EnchantMover", 1972).getInt();
+			id[3] = cfg.getBlock("MiningWell", 1973).getInt();
+			id[4] = cfg.getBlock("Pump", 1974).getInt();
+			id[5] = cfg.getBlock("InfMJSrc", 1975).getInt();
+			id[6] = cfg.getBlock("Refinery", 1976).getInt();
+			id[7] = cfg.getBlock("Placer", 1977).getInt();
+			id[8] = cfg.getBlock("Breaker", 1978).getInt();
+			id[9] = cfg.getBlock("Laser", 1979).getInt();
+			id[10] = cfg.getBlock("PlainPipe", 1980).getInt();
+			id[11] = cfg.getBlock("Frame", 1981).getInt();
+			id[12] = cfg.getItem("Tools", 18463).getInt();
 			Property RD = cfg.get(Configuration.CATEGORY_GENERAL, "RecipeDifficulty", 2);
 			RD.comment = "0:AsCheatRecipe,1:EasyRecipe,2:NormalRecipe(Default),3:HardRecipe,other:NormalRecipe";
 			RecipeDifficulty = RD.getInt(2);
@@ -128,19 +138,19 @@
 			cfg.save();
 		}
 		try {
-			blockQuarry = (new BlockQuarry());
-			blockMarker = (new BlockMarker());
-			blockMover = (new BlockMover());
-			blockMiningWell = (new BlockMiningWell());
-			blockPump = (new BlockPump());
-			blockInfMJSrc = (new BlockInfMJSrc());
-			blockRefinery = (new BlockRefinery());
-			blockPlacer = (new BlockPlacer());
-			blockBreaker = (new BlockBreaker());
-			blockLaser = (new BlockLaser());
-			blockPlainPipe = (new BlockPlainPipe());
-			blockFrame = (new BlockFrame());
-			itemTool = (new ItemTool());
+			blockQuarry = (new BlockQuarry(id[0]));
+			blockMarker = (new BlockMarker(id[1]));
+			blockMover = (new BlockMover(id[2]));
+			blockMiningWell = (new BlockMiningWell(id[3]));
+			blockPump = (new BlockPump(id[4]));
+			blockInfMJSrc = (new BlockInfMJSrc(id[5]));
+			blockRefinery = (new BlockRefinery(id[6]));
+			blockPlacer = (new BlockPlacer(id[7]));
+			blockBreaker = (new BlockBreaker(id[8]));
+			blockLaser = (new BlockLaser(id[9]));
+			blockPlainPipe = (new BlockPlainPipe(id[10]));
+			blockFrame = (new BlockFrame(id[11]));
+			itemTool = (new ItemTool(id[12]));
 		} catch (Exception e) {
 			e.printStackTrace();
 		}
@@ -152,7 +162,7 @@
 	}
 
 	private static final void addAssemblyRecipe(int a, ItemStack b, ItemStack... c) {
-		BuildcraftRecipes.assemblyTable.addRecipe(a, b, c);
+		AssemblyRecipe.assemblyRecipes.add(new AssemblyRecipe(a, b, c));
 	}
 
 	@Mod.EventHandler
@@ -216,7 +226,7 @@
 			break;
 		case 1:
 			addAssemblyRecipe(160000, new ItemStack(blockQuarry, 1), new ItemStack(BuildCraftFactory.quarryBlock, 1), new ItemStack(redstoneChipset, 1, 3),
-					new ItemStack(BuildCraftTransport.pipeWire, 8, PipeWire.YELLOW.ordinal()));
+					new ItemStack(BuildCraftTransport.yellowPipeWire, 8));
 			addAssemblyRecipe(40000, new ItemStack(blockMover, 1), new ItemStack(Block.enchantmentTable, 1), new ItemStack(
 					BuildCraftFactory.autoWorkbenchBlock, 1), new ItemStack(Block.anvil, 1), new ItemStack(BuildCraftSilicon.laserBlock, 2), new ItemStack(
 					BuildCraftSilicon.assemblyTableBlock, 1));
@@ -232,7 +242,7 @@
 			addAssemblyRecipe(160000, new ItemStack(itemTool, 1, 2), new ItemStack(BuildCraftCore.wrenchItem, 2), new ItemStack(Item.bucketEmpty, 2),
 					new ItemStack(Item.bucketWater, 1), new ItemStack(Item.bucketLava, 1));
 			addAssemblyRecipe(80000, new ItemStack(blockMiningWell, 1), new ItemStack(BuildCraftFactory.miningWellBlock, 1), new ItemStack(redstoneChipset, 1,
-					3), new ItemStack(BuildCraftTransport.pipeWire, 8, PipeWire.YELLOW.ordinal()));
+					3), new ItemStack(BuildCraftTransport.yellowPipeWire, 8));
 			addAssemblyRecipe(40000, new ItemStack(blockBreaker, 1), new ItemStack(Block.dispenser, 1), new ItemStack(Item.pickaxeDiamond, 1),
 					new ItemStack(BuildCraftEnergy.engineBlock, 1, 1));
 			addAssemblyRecipe(80000, new ItemStack(blockPlacer, 1), new ItemStack(Block.dispenser, 1), new ItemStack(BuildCraftBuilders.fillerBlock, 1),
@@ -242,7 +252,7 @@
 			break;
 		case 3:
 			addAssemblyRecipe(800000, new ItemStack(blockQuarry, 1), new ItemStack(BuildCraftFactory.quarryBlock, 2), new ItemStack(redstoneChipset, 8, 3),
-					new ItemStack(BuildCraftTransport.pipeWire, 16, PipeWire.YELLOW.ordinal()), new ItemStack(redstoneChipset, 2, 4), new ItemStack(
+					new ItemStack(BuildCraftTransport.yellowPipeWire, 16), new ItemStack(redstoneChipset, 2, 4), new ItemStack(
 							Block.chest, 32));
 			addAssemblyRecipe(640000, new ItemStack(blockMover, 1), new ItemStack(Block.enchantmentTable, 1), new ItemStack(
 					BuildCraftSilicon.assemblyTableBlock, 1, 1), new ItemStack(Block.anvil, 2), new ItemStack(BuildCraftSilicon.laserBlock, 4), new ItemStack(
@@ -264,7 +274,7 @@
 					new ItemStack(Item.bucketWater, 1), new ItemStack(Item.bucketLava, 1), new ItemStack(BuildCraftEnergy.bucketOil, 1), new ItemStack(
 							BuildCraftEnergy.bucketFuel, 1), new ItemStack(BuildCraftEnergy.engineBlock, 1, 2));
 			addAssemblyRecipe(500000, new ItemStack(blockMiningWell, 1), new ItemStack(BuildCraftFactory.miningWellBlock, 2), new ItemStack(redstoneChipset, 8,
-					3), new ItemStack(BuildCraftTransport.pipeWire, 16, PipeWire.YELLOW.ordinal()), new ItemStack(redstoneChipset, 1, 4), new ItemStack(
+					3), new ItemStack(BuildCraftTransport.yellowPipeWire, 16), new ItemStack(redstoneChipset, 1, 4), new ItemStack(
 					Block.chest, 16));
 			addAssemblyRecipe(640000, new ItemStack(blockBreaker, 1), new ItemStack(Block.dispenser, 2), new ItemStack(Block.blockDiamond, 2),
 					new ItemStack(Item.redstone, 64), new ItemStack(blockQuarry, 1), new ItemStack(blockMiningWell, 1), new ItemStack(
@@ -277,7 +287,7 @@
 			break;
 		default:
 			addAssemblyRecipe(320000, new ItemStack(blockQuarry, 1), new ItemStack(BuildCraftFactory.quarryBlock, 1), new ItemStack(redstoneChipset, 2, 3),
-					new ItemStack(BuildCraftTransport.pipeWire, 16, PipeWire.YELLOW.ordinal()), new ItemStack(redstoneChipset, 1, 4), new ItemStack(
+					new ItemStack(BuildCraftTransport.yellowPipeWire, 16), new ItemStack(redstoneChipset, 1, 4), new ItemStack(
 							Block.chest, 8));
 			addAssemblyRecipe(320000, new ItemStack(blockMover, 1), new ItemStack(Block.enchantmentTable, 1), new ItemStack(
 					BuildCraftSilicon.assemblyTableBlock, 1, 1), new ItemStack(Block.anvil, 1), new ItemStack(BuildCraftSilicon.assemblyTableBlock, 1),
@@ -298,7 +308,7 @@
 					new ItemStack(Item.bucketWater, 1), new ItemStack(Item.bucketLava, 1), new ItemStack(BuildCraftEnergy.bucketOil, 1), new ItemStack(
 							BuildCraftEnergy.bucketFuel, 1));
 			addAssemblyRecipe(160000, new ItemStack(blockMiningWell, 1), new ItemStack(BuildCraftFactory.miningWellBlock, 1), new ItemStack(redstoneChipset, 2,
-					3), new ItemStack(BuildCraftTransport.pipeWire, 16, PipeWire.YELLOW.ordinal()), new ItemStack(redstoneChipset, 1, 4), new ItemStack(
+					3), new ItemStack(BuildCraftTransport.yellowPipeWire, 16), new ItemStack(redstoneChipset, 1, 4), new ItemStack(
 					Block.chest, 8));
 			addAssemblyRecipe(320000, new ItemStack(blockBreaker, 1), new ItemStack(Block.dispenser, 2), new ItemStack(Block.blockDiamond, 1),
 					new ItemStack(Item.redstone, 32), new ItemStack(blockQuarry, 1), new ItemStack(BuildCraftEnergy.engineBlock, 1, 2));
@@ -343,7 +353,7 @@
 			sb.append(bd.meta);
 		}
 		sb.append("  ");
-		sb.append(GameData.getBlockRegistry().getObject(bd.name).getLocalizedName());
+		sb.append(Block.blocksList[Integer.valueOf(bd.name)].getLocalizedName());
 		return sb.toString();
 	}
 }
--- a/com/yogpc/qp/TileBasic.java
+++ b/com/yogpc/qp/TileBasic.java
@@ -32,7 +32,6 @@
 import com.yogpc.mc_lib.YogpstopPacket;
 import com.yogpc.qp.QuarryPlus.BlockData;
 
-import cpw.mods.fml.common.registry.GameData;
 import net.minecraft.block.Block;
 import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.inventory.IInventory;
@@ -237,7 +236,7 @@
 
 	protected boolean S_breakBlock(int x, int y, int z) {
 		Collection<ItemStack> dropped = new LinkedList<ItemStack>();
-		Block b = this.worldObj.getChunkProvider().loadChunk(x >> 4, z >> 4).getBlock(x & 0xF, y, z & 0xF);
+		Block b = Block.blocksList[this.worldObj.getChunkProvider().loadChunk(x >> 4, z >> 4).getBlockID(x & 0xF, y, z & 0xF)];
 		if (b == null || b.isAirBlock(this.worldObj, x, y, z)) return true;
 		if (TilePump.isLiquid(b, false, null, 0, 0, 0, 0)) {
 			TileEntity te = this.worldObj.getBlockTileEntity(this.xCoord + this.pump.offsetX, this.yCoord + this.pump.offsetY, this.zCoord + this.pump.offsetZ);
@@ -250,7 +249,7 @@
 		}
 		if (!PowerManager.useEnergyB(this, b.getBlockHardness(this.worldObj, x, y, z), S_addDroppedItems(dropped, b, x, y, z), this.unbreaking, this)) return false;
 		this.cacheItems.addAll(dropped);
-		this.worldObj.playAuxSFXAtEntity(null, 2001, x, y, z, Block.getIdFromBlock(b) | (this.worldObj.getBlockMetadata(x, y, z) << 12));
+		this.worldObj.playAuxSFXAtEntity(null, 2001, x, y, z, b.blockID | (this.worldObj.getBlockMetadata(x, y, z) << 12));
 		this.worldObj.setBlockToAir(x, y, z);
 		return true;
 	}
@@ -266,7 +265,7 @@
 	private byte S_addDroppedItems(Collection<ItemStack> list, Block b, int x, int y, int z) {
 		int meta = this.worldObj.getBlockMetadata(x, y, z);
 		if (b.canSilkHarvest(this.worldObj, null, x, y, z, meta) && this.silktouch
-				&& (this.silktouchList.contains(new BlockData(GameData.getBlockRegistry().getNameForObject(b), meta)) == this.silktouchInclude)) {
+				&& (this.silktouchList.contains(new BlockData(Integer.toString(b.blockID), meta)) == this.silktouchInclude)) {
 			try {
 				list.add((ItemStack) createStackedBlock.invoke(b, meta));
 				return -1;
@@ -276,7 +275,7 @@
 				e.printStackTrace();
 			}
 		}
-		if (this.fortuneList.contains(new BlockData(GameData.getBlockRegistry().getNameForObject(b), meta)) == this.fortuneInclude) {
+		if (this.fortuneList.contains(new BlockData(Integer.toString(b.blockID), meta)) == this.fortuneInclude) {
 			list.addAll(b.getBlockDropped(this.worldObj, x, y, z, meta, this.fortune));
 			return this.fortune;
 		}
--- a/com/yogpc/qp/TileMarker.java
+++ b/com/yogpc/qp/TileMarker.java
@@ -185,7 +185,7 @@
 		private final ArrayList<ItemStack> removeLink(final int x, final int y, final int z, final boolean bb) {
 			final ArrayList<ItemStack> ret = new ArrayList<ItemStack>();
 			final TileEntity te = this.w.getBlockTileEntity(x, y, z);
-			final Block b = this.w.getBlock(x, y, z);
+			final Block b = Block.blocksList[this.w.getBlockId(x, y, z)];
 			if (b instanceof BlockMarker) {
 				if (te instanceof TileMarker) ((TileMarker) te).link = null;
 				ret.addAll(b.getBlockDropped(this.w, x, y, z, this.w.getBlockMetadata(x, y, z), 0));
@@ -365,16 +365,16 @@
 
 	private static void S_renewConnection(final Link l, final World w, final int x, final int y, final int z) {
 		int tx = 0, ty = 0, tz = 0;
-		Block b;
+		int b;
 		if (l.xx == l.xn) {
 			for (tx = 1; tx <= MAX_SIZE; tx++) {
-				b = w.getBlock(x + tx, y, z);
-				if (b instanceof BlockMarker && !linkList.contains(new BlockIndex(w, x + tx, y, z))) {
+				b = w.getBlockId(x + tx, y, z);
+				if (b == QuarryPlus.blockMarker.blockID && !linkList.contains(new BlockIndex(w, x + tx, y, z))) {
 					l.xx = x + tx;
 					break;
 				}
-				b = w.getBlock(x - tx, y, z);
-				if (b instanceof BlockMarker && !linkList.contains(new BlockIndex(w, x - tx, y, z))) {
+				b = w.getBlockId(x - tx, y, z);
+				if (b == QuarryPlus.blockMarker.blockID && !linkList.contains(new BlockIndex(w, x - tx, y, z))) {
 					tx = -tx;
 					l.xn = x + tx;
 					break;
@@ -384,13 +384,13 @@
 		}
 		if (l.yx == l.yn) {
 			for (ty = 1; ty <= MAX_SIZE; ty++) {
-				b = w.getBlock(x, y + ty, z);
-				if (b instanceof BlockMarker && !linkList.contains(new BlockIndex(w, x, y + ty, z))) {
+				b = w.getBlockId(x, y + ty, z);
+				if (b == QuarryPlus.blockMarker.blockID && !linkList.contains(new BlockIndex(w, x, y + ty, z))) {
 					l.yx = y + ty;
 					break;
 				}
-				b = w.getBlock(x, y - ty, z);
-				if (b instanceof BlockMarker && !linkList.contains(new BlockIndex(w, x, y - ty, z))) {
+				b = w.getBlockId(x, y - ty, z);
+				if (b == QuarryPlus.blockMarker.blockID && !linkList.contains(new BlockIndex(w, x, y - ty, z))) {
 					ty = -ty;
 					l.yn = y + ty;
 					break;
@@ -400,13 +400,13 @@
 		}
 		if (l.zx == l.zn) {
 			for (tz = 1; tz <= MAX_SIZE; tz++) {
-				b = w.getBlock(x, y, z + tz);
-				if (b instanceof BlockMarker && !linkList.contains(new BlockIndex(w, x, y, z + tz))) {
+				b = w.getBlockId(x, y, z + tz);
+				if (b == QuarryPlus.blockMarker.blockID && !linkList.contains(new BlockIndex(w, x, y, z + tz))) {
 					l.zx = z + tz;
 					break;
 				}
-				b = w.getBlock(x, y, z - tz);
-				if (b instanceof BlockMarker && !linkList.contains(new BlockIndex(w, x, y, z - tz))) {
+				b = w.getBlockId(x, y, z - tz);
+				if (b == QuarryPlus.blockMarker.blockID && !linkList.contains(new BlockIndex(w, x, y, z - tz))) {
 					tz = -tz;
 					l.zn = z + tz;
 					break;
@@ -554,6 +554,6 @@
 	@Override
 	public void invalidate() {
 		super.invalidate();
-		if (this.worldObj.getBlock(this.xCoord, this.yCoord, this.zCoord) != QuarryPlus.blockMarker) G_destroy();
+		if (this.worldObj.getBlockId(this.xCoord, this.yCoord, this.zCoord) != QuarryPlus.blockMarker.blockID) G_destroy();
 	}
 }
--- a/com/yogpc/qp/TileMiningWell.java
+++ b/com/yogpc/qp/TileMiningWell.java
@@ -59,7 +59,7 @@
 		if (this.worldObj.isRemote) return;
 		int depth = this.yCoord - 1;
 		while (!S_checkTarget(depth)) {
-			if (this.working) this.worldObj.setBlock(this.xCoord, depth, this.zCoord, QuarryPlus.blockPlainPipe);
+			if (this.working) this.worldObj.setBlock(this.xCoord, depth, this.zCoord, QuarryPlus.blockPlainPipe.blockID);
 			depth--;
 		}
 		if (this.working) S_breakBlock(this.xCoord, depth, this.zCoord);
@@ -71,10 +71,11 @@
 			G_destroy();
 			return true;
 		}
-		Block b = this.worldObj.getChunkProvider().loadChunk(this.xCoord >> 4, this.zCoord >> 4).getBlock(this.xCoord & 0xF, depth, this.zCoord & 0xF);
+		Block b = Block.blocksList[this.worldObj.getChunkProvider().loadChunk(this.xCoord >> 4, this.zCoord >> 4)
+				.getBlockID(this.xCoord & 0xF, depth, this.zCoord & 0xF)];
 		float h = b == null ? -1 : b.getBlockHardness(this.worldObj, this.xCoord, depth, this.zCoord);
 		if (b == null || h < 0 || b == QuarryPlus.blockPlainPipe || b.isAirBlock(this.worldObj, this.xCoord, depth, this.zCoord)) return false;
-		if (this.pump == ForgeDirection.UNKNOWN && b.getMaterial().isLiquid()) return false;
+		if (this.pump == ForgeDirection.UNKNOWN && this.worldObj.getBlockMaterial(this.xCoord, depth, this.zCoord).isLiquid()) return false;
 		if (!this.working) {
 			this.working = true;
 			G_renew_powerConfigure();
@@ -110,7 +111,7 @@
 		G_renew_powerConfigure();
 		PacketHandler.sendNowPacket(this, (byte) 0);
 		for (int depth = this.yCoord - 1; depth > 0; depth--) {
-			if (this.worldObj.getBlock(this.xCoord, depth, this.zCoord) != QuarryPlus.blockPlainPipe) {
+			if (this.worldObj.getBlockId(this.xCoord, depth, this.zCoord) != QuarryPlus.blockPlainPipe.blockID) {
 				break;
 			}
 			this.worldObj.setBlockToAir(this.xCoord, depth, this.zCoord);
--- a/com/yogpc/qp/TilePump.java
+++ b/com/yogpc/qp/TilePump.java
@@ -30,7 +30,6 @@
 
 import net.minecraft.block.Block;
 import net.minecraft.entity.player.EntityPlayer;
-import net.minecraft.block.Block;
 import net.minecraft.nbt.NBTTagCompound;
 import net.minecraft.nbt.NBTTagList;
 import net.minecraft.nbt.NBTTagString;
@@ -81,7 +80,7 @@
 		this.unbreaking = nbttc.getByte("unbreaking");
 		this.connectTo = ForgeDirection.values()[nbttc.getByte("connectTo")];
 		if (nbttc.getTag("mapping0") instanceof NBTTagList) for (int i = 0; i < this.mapping.length; i++)
-			readStringCollection(nbttc.getTagList(String.format("mapping%d", i), 8), this.mapping[i]);
+			readStringCollection(nbttc.getTagList(String.format("mapping%d", i)), this.mapping[i]);
 		this.range = nbttc.getByte("range");
 		this.quarryRange = nbttc.getBoolean("quarryRange");
 		this.prev = (byte) (this.connectTo.ordinal() | (G_working() ? 0x80 : 0));
@@ -382,7 +381,7 @@
 		while (cp != cg) {
 			ebs_c = this.ebses[xb[cg] >> 4][zb[cg] >> 4][yb[cg] >> 4];
 			if (ebs_c != null) {
-				b_c = ebs_c.getBlockByExtId(xb[cg] & 0xF, yb[cg] & 0xF, zb[cg] & 0xF);
+				b_c = Block.blocksList[ebs_c.getExtBlockID(xb[cg] & 0xF, yb[cg] & 0xF, zb[cg] & 0xF)];
 				if (this.blocks[yb[cg] - this.yOffset][xb[cg]][zb[cg]] == 0 && isLiquid(b_c, false, null, 0, 0, 0, 0)) {
 					this.blocks[yb[cg] - this.yOffset][xb[cg]][zb[cg]] = 0x3F;
 
@@ -428,7 +427,7 @@
 					for (bx = 0; bx < this.block_side_x; bx++) {
 						for (bz = 0; bz < this.block_side_z; bz++) {
 							if ((this.blocks[this.py - this.yOffset][bx][bz] & 0x40) != 0) {
-								bb = this.ebses[bx >> 4][bz >> 4][this.py >> 4].getBlockByExtId(bx & 0xF, this.py & 0xF, bz & 0xF);
+								bb = Block.blocksList[this.ebses[bx >> 4][bz >> 4][this.py >> 4].getExtBlockID(bx & 0xF, this.py & 0xF, bz & 0xF)];
 								if (isLiquid(bb, false, null, 0, 0, 0, 0)) {
 									count++;
 								}
@@ -438,7 +437,7 @@
 				} else {
 					for (bz = 0; bz < this.block_side_z; bz++) {
 						if (this.blocks[this.py - this.yOffset][this.px][bz] != 0) {
-							bb = this.ebses[this.px >> 4][bz >> 4][this.py >> 4].getBlockByExtId(this.px & 0xF, this.py & 0xF, bz & 0xF);
+							bb = Block.blocksList[this.ebses[this.px >> 4][bz >> 4][this.py >> 4].getExtBlockID(this.px & 0xF, this.py & 0xF, bz & 0xF)];
 							meta = this.ebses[this.px >> 4][bz >> 4][this.py >> 4].getExtBlockMetadata(this.px & 0xF, this.py & 0xF, bz & 0xF);
 							if (isLiquid(bb, true, this.worldObj, this.px + this.xOffset, this.py, bz + this.zOffset, meta)) {
 								count++;
@@ -457,14 +456,14 @@
 				for (bx = 0; bx < this.block_side_x; bx++) {
 					for (bz = 0; bz < this.block_side_z; bz++) {
 						if ((this.blocks[this.py - this.yOffset][bx][bz] & 0x40) != 0) {
-							drainBlock(bx, bz, QuarryPlus.blockFrame);
+							drainBlock(bx, bz, QuarryPlus.blockFrame.blockID);
 						}
 					}
 				}
 			} else {
 				for (bz = 0; bz < this.block_side_z; bz++) {
 					if (this.blocks[this.py - this.yOffset][this.px][bz] != 0) {
-						drainBlock(this.px, bz, Blocks.air);
+						drainBlock(this.px, bz, 0);
 					}
 				}
 			}
@@ -610,8 +609,8 @@
 		return false;
 	}
 
-	private final void drainBlock(int bx, int bz, Block tb) {
-		Block b = this.ebses[bx >> 4][bz >> 4][this.py >> 4].getBlockByExtId(bx & 0xF, this.py & 0xF, bz & 0xF);
+	private final void drainBlock(int bx, int bz, int tb) {
+		Block b = Block.blocksList[this.ebses[bx >> 4][bz >> 4][this.py >> 4].getExtBlockID(bx & 0xF, this.py & 0xF, bz & 0xF)];
 		int meta = this.ebses[bx >> 4][bz >> 4][this.py >> 4].getExtBlockMetadata(bx & 0xF, this.py & 0xF, bz & 0xF);
 		if (isLiquid(b, false, null, 0, 0, 0, 0)) {
 			FluidStack fs = null;
--- a/com/yogpc/qp/TileQuarry.java
+++ b/com/yogpc/qp/TileQuarry.java
@@ -86,8 +86,8 @@
 
 	private boolean S_checkTarget() {
 		if (this.targetY > this.yMax) this.targetY = this.yMax;
-		Block b = this.worldObj.getChunkProvider().loadChunk(this.targetX >> 4, this.targetZ >> 4)
-				.getBlock(this.targetX & 0xF, this.targetY, this.targetZ & 0xF);
+		Block b = Block.blocksList[this.worldObj.getChunkProvider().loadChunk(this.targetX >> 4, this.targetZ >> 4)
+				.getBlockID(this.targetX & 0xF, this.targetY, this.targetZ & 0xF)];
 		float h = b == null ? -1 : b.getBlockHardness(this.worldObj, this.targetX, this.targetY, this.targetZ);
 		switch (this.now) {
 		case BREAKBLOCK:
@@ -134,7 +134,7 @@
 				PacketHandler.sendNowPacket(this, this.now);
 				return S_checkTarget();
 			}
-			if (b != null && b.getMaterial().isSolid()
+			if (b != null && this.worldObj.getBlockMaterial(this.targetX, this.targetY, this.targetZ).isSolid()
 					&& !(b == QuarryPlus.blockFrame && this.worldObj.getBlockMetadata(this.targetX, this.targetY, this.targetZ) == 0)) {
 				this.now = NOTNEEDBREAK;
 				G_renew_powerConfigure();
@@ -241,7 +241,7 @@
 	private boolean S_makeFrame() {
 		this.digged = true;
 		if (!PowerManager.useEnergyF(this, this.unbreaking)) return false;
-		this.worldObj.setBlock(this.targetX, this.targetY, this.targetZ, QuarryPlus.blockFrame);
+		this.worldObj.setBlock(this.targetX, this.targetY, this.targetZ, QuarryPlus.blockFrame.blockID);
 		S_setNextTarget();
 		return true;
 	}
@@ -384,7 +384,7 @@
 	}
 
 	private void S_setBreakableFrame(int x, int y, int z) {
-		if (this.worldObj.getBlock(x, y, z) == QuarryPlus.blockFrame) {
+		if (this.worldObj.getBlockId(x, y, z) == QuarryPlus.blockFrame.blockID) {
 			this.worldObj.setBlockMetadataWithNotify(x, y, z, 1, 3);
 		}
 	}
--- a/com/yogpc/qp/TileRefinery.java
+++ b/com/yogpc/qp/TileRefinery.java
@@ -107,9 +107,9 @@
 				decreaseAnimation();
 				return;
 			}
-			if (r.timeRequired > this.ticks) return;
+			if (r.delay > this.ticks) return;
 			if (i == 1) this.ticks = 0;
-			if (!PowerManager.useEnergyR(this, r.energyCost, this.unbreaking)) {
+			if (!PowerManager.useEnergyR(this, r.energy, this.unbreaking)) {
 				decreaseAnimation();
 				return;
 			}
--- a/com/yogpc/qp/client/RenderFrame.java
+++ b/com/yogpc/qp/client/RenderFrame.java
@@ -28,7 +28,7 @@
 
 	@Override
 	public boolean renderWorldBlock(IBlockAccess w, int i, int j, int k, Block b, int m, RenderBlocks r) {
-		if (w.getBlock(i - 1, j, k) == b) {
+		if (w.getBlockId(i - 1, j, k) == b.blockID) {
 			r.setRenderBounds(0.0F, 0.25F, 0.25F, 0.25F, 0.75F, 0.75F);
 			((BlockFrame) b).setSides(true, true, true, true, false, false);
 		} else {
@@ -36,7 +36,7 @@
 			((BlockFrame) b).setSides(false, false, false, false, true, false);
 		}
 		r.renderStandardBlock(b, i, j, k);
-		if (w.getBlock(i + 1, j, k) == b) {
+		if (w.getBlockId(i + 1, j, k) == b.blockID) {
 			r.setRenderBounds(0.75F, 0.25F, 0.25F, 1.0F, 0.75F, 0.75F);
 			((BlockFrame) b).setSides(true, true, true, true, false, false);
 		} else {
@@ -44,7 +44,7 @@
 			((BlockFrame) b).setSides(false, false, false, false, false, true);
 		}
 		r.renderStandardBlock(b, i, j, k);
-		if (w.getBlock(i, j - 1, k) == b) {
+		if (w.getBlockId(i, j - 1, k) == b.blockID) {
 			r.setRenderBounds(0.25F, 0.0F, 0.25F, 0.75F, 0.25F, 0.75F);
 			((BlockFrame) b).setSides(false, false, true, true, true, true);
 		} else {
@@ -52,7 +52,7 @@
 			((BlockFrame) b).setSides(true, false, false, false, false, false);
 		}
 		r.renderStandardBlock(b, i, j, k);
-		if (w.getBlock(i, j + 1, k) == b) {
+		if (w.getBlockId(i, j + 1, k) == b.blockID) {
 			r.setRenderBounds(0.25F, 0.75F, 0.25F, 0.75F, 1.0F, 0.75F);
 			((BlockFrame) b).setSides(false, false, true, true, true, true);
 		} else {
@@ -60,7 +60,7 @@
 			((BlockFrame) b).setSides(false, true, false, false, false, false);
 		}
 		r.renderStandardBlock(b, i, j, k);
-		if (w.getBlock(i, j, k - 1) == b) {
+		if (w.getBlockId(i, j, k - 1) == b.blockID) {
 			r.setRenderBounds(0.25F, 0.25F, 0.0F, 0.75F, 0.75F, 0.25F);
 			((BlockFrame) b).setSides(true, true, false, false, true, true);
 		} else {
@@ -68,7 +68,7 @@
 			((BlockFrame) b).setSides(false, false, true, false, false, false);
 		}
 		r.renderStandardBlock(b, i, j, k);
-		if (w.getBlock(i, j, k + 1) == b) {
+		if (w.getBlockId(i, j, k + 1) == b.blockID) {
 			r.setRenderBounds(0.25F, 0.25F, 0.75F, 0.75F, 0.75F, 1.0F);
 			((BlockFrame) b).setSides(true, true, false, false, true, true);
 		} else {
--- a/com/yogpc/qp/client/RenderRefinery.java
+++ b/com/yogpc/qp/client/RenderRefinery.java
@@ -203,8 +203,8 @@
 		diplayLists = new int[100];
 		Block baseBlock;
 		Icon texture;
-		if (fluid.getBlock() != null) {
-			baseBlock = fluid.getBlock();
+		if (fluid.getBlockID() > -1) {
+			baseBlock = Block.blocksList[fluid.getBlockID()];
 			texture = fluid.getStillIcon();
 		} else {
 			baseBlock = Block.waterStill;
